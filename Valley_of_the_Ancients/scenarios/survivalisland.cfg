#textdomain wesnoth-Valley_of_the_Ancients

[multiplayer]
    id=survivalisland_id
    name=_ "Survival Island"
    map_data="{~add-ons/Valley_of_the_Ancients/maps/survivalisland.map}"
    description=_ "Outlast other players - Best played with BOB's RPG Era - Original version by Death1"
    turns=-1

    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    [side]
        side=1
        canrecruit=yes
        controller=human
        canrecruit=yes
        gold=75
        recruit=Peasant,Ruffian,Woodsman
        team_name=1
    [/side]
    [side]
        side=2
        canrecruit=yes
        controller=human
        canrecruit=yes
        gold=75
        recruit=Peasant,Ruffian,Woodsman
        team_name=2
    [/side]
    [side]
        side=3
        canrecruit=yes
        controller=human
        canrecruit=yes
        gold=75
        recruit=Peasant,Ruffian,Woodsman
        team_name=3
    [/side]
    [side]
        side=4
        canrecruit=yes
        controller=human
        canrecruit=yes
        gold=75
        recruit=Peasant,Ruffian,Woodsman
        team_name=4
    [/side]
    [side]
        side=5
        canrecruit=yes
        controller=human
        canrecruit=yes
        gold=75
        recruit=Peasant,Ruffian,Woodsman
        team_name=5
    [/side]
    [side]
        side=6
        controller=ai
        allow_player=no
        id=Computer_1
        type=Ancient Lich
        canrecruit=yes
        gold=50
		income=6
        recruit=Walking Corpse
        team_name=6
		user_team_name= _ "Evils"
        [ai]
            aggression=1.0
            caution=0.0
        [/ai]
    [/side]
    [side]
        side=7
        controller=ai
        allow_player=no
        id=Computer_2
        type=Death Knight
        canrecruit=yes
        gold=50
		income=12
        recruit=Skeleton,Skeleton Archer
        team_name=6
		user_team_name= _ "Evils"
        [ai]
            aggression=1.0
            caution=0.0
        [/ai]
    [/side]
    [side]
        side=8
        controller=ai
        allow_player=no
        id=Computer_3
        type=Death Knight
        canrecruit=yes
        gold=50
		income=12
        recruit=Skeleton,Skeleton Archer
        team_name=6
		user_team_name= _ "Evils"
        [ai]
            aggression=1.0
            caution=0.0
        [/ai]
    [/side]

	[event]
		name=prestart

		[label]
			x=25
			y=15
			text=_ "Shop"
		[/label]

		[label]
			x=26
			y=32
			text=_ "Shop"
		[/label]

		[label]
			x=14
			y=32
			text=_ "Shop"
		[/label]

		[label]
			x=18
			y=25
			text=_ "Shop"
		[/label]

		[label]
			x=30
			y=24
			text=_ "Shop"
		[/label]
	[/event]

#define OPTION_HEAL PRICE AMOUNT
    [option]
        message={MENU_IMG_TXT "items/potion-green.png" (_"Heal: +{AMOUNT} HP - {PRICE} Gold")}
        [command]
            [if]
                [variable]
                    name=gold
                    greater_than_equal_to={PRICE}
                [/variable]
                [then]
                    [gold]
                        amount=-{PRICE}
                        side=$side_number
                    [/gold]
                    [object]
                        silent=yes
                        [filter]
                            side=$side_number
                            canrecruit=yes
                        [/filter]
                        [effect]
                            apply_to=hitpoints
                            increase={AMOUNT}
                        [/effect]
                    [/object]
                [/then]
            [/if]
        [/command]
    [/option]
#enddef

    # RS = Ranged Strikes
    # RD = Ranged Damage
    # MS = Melee Strikes
    # MD = Melee Damage

#define DONE
	[option]
		message={MENU_IMG_TXT "misc/red-x.png" (_"Done")}
		[command]
			{VARIABLE finished yes}
		[/command]
	[/option]
#enddef

#define OPTION_HP PRICE AMOUNT
    [option]
        message={MENU_IMG_TXT "items/ring-white.png" (_"Max Health: +{AMOUNT} HP - {PRICE} Gold")}
        [command]
            [if]
                [variable]
                    name=gold
                    greater_than_equal_to={PRICE}
                [/variable]
                [then]
                    [gold]
                        amount=-{PRICE}
                        side=$side_number
                    [/gold]
                    [object]
                        silent=yes
                        [filter]
                            side=$side_number
                            canrecruit=yes
                        [/filter]
                        [effect]
                            apply_to=hitpoints
                            increase_total={AMOUNT}
                        [/effect]
                        [effect]
                            apply_to=hitpoints
                            increase={AMOUNT}
                        [/effect]
                    [/object]
                [/then]
            [/if]
        [/command]
    [/option]
#enddef

#define OPTION_RS PRICE
    [option]
        message={MENU_IMG_TXT "items/orcish-flag.png" (_ "Increase Ranged Strikes: +1 - {PRICE} Gold")}
        [command]
            [if]
                [variable]
                    name=gold
                    greater_than_equal_to={PRICE}
                [/variable]
                [then]
                    [gold]
                        amount=-{PRICE}
                        side=$side_number
                    [/gold]
                    [object]
                        silent=yes
                        [filter]
                            side=$side_number
                            canrecruit=yes
                        [/filter]
                        [effect]
                            apply_to=attack
                            range=ranged
                            increase_attacks=1
                        [/effect]
                    [/object]
                [/then]
            [/if]
        [/command]
    [/option]
#enddef

#define OPTION_RD PRICE AMOUNT
    [option]
        message={MENU_IMG_TXT "items/bow.png" (_"Increase Ranged Damage: +{AMOUNT} - {PRICE} Gold")}
        [command]
            [if]
                [variable]
                    name=gold
                    greater_than_equal_to={PRICE}
                [/variable]
                [then]
                    [gold]
                        amount=-{PRICE}
                        side=$side_number
                    [/gold]
                    [object]
                        silent=yes
                        [filter]
                            side=$side_number
                            canrecruit=yes
                        [/filter]
                        [effect]
                            apply_to=attack
                            range=ranged
                            increase_damage={AMOUNT}
                        [/effect]
                    [/object]
                [/then]
            [/if]
        [/command]
    [/option]
#enddef

#define OPTION_MS PRICE
    [option]
        message={MENU_IMG_TXT "items/dummy.png" (_ "Increase Melee Strikes: +1 - {PRICE} Gold")}
        [command]
            [if]
                [variable]
                    name=gold
                    greater_than_equal_to={PRICE}
                [/variable]
                [then]
                    [gold]
                        amount=-{PRICE}
                        side=$side_number
                    [/gold]
                    [object]
                        silent=yes
                        [filter]
                            side=$side_number
                            canrecruit=yes
                        [/filter]
                        [effect]
                            apply_to=attack
                            range=melee
                            increase_attacks=1
                        [/effect]
                    [/object]
                [/then]
            [/if]
        [/command]
    [/option]
#enddef

#define OPTION_MD PRICE AMOUNT
    [option]
        message={MENU_IMG_TXT "items/sword.png" (_"Increase Melee Damage: +{AMOUNT} - {PRICE} Gold")}
        [command]
            [if]
                [variable]
                    name=gold
                    greater_than_equal_to={PRICE}
                [/variable]
                [then]
                    [gold]
                        amount=-{PRICE}
                        side=$side_number
                    [/gold]
                    [object]
                        silent=yes
                        [filter]
                            side=$side_number
                            canrecruit=yes
                        [/filter]
                        [effect]
                            apply_to=attack
                            range=melee
                            increase_damage={AMOUNT}
                        [/effect]
                    [/object]
                [/then]
            [/if]
        [/command]
    [/option]
#enddef

    [event]
        name=prestart

        [set_menu_item]
            id=upgradeshop
            description=_ "Shop"
            [filter_location]
                x,y=25,15
            [/filter_location]
            [command]
                {VARIABLE finished no}
                [while]
                    [variable]
                        name=finished
                        equals=no
                    [/variable]
                    [do]
                        [store_gold]
                            side=$side_number
                            variable=gold
                        [/store_gold]
                        [message]
                            image=wesnoth-icon.png
                            message= _ "You have $gold gold coins to spend in the Shop."
                            speaker=narrator
							{DONE}
                            {OPTION_HEAL 10 50}
                            {OPTION_HP 5 5}
                            {OPTION_RD 7 1}
                            {OPTION_RS 20}
                            {OPTION_MD 7 1}
                            {OPTION_MS 20}
                        [/message]
                        [redraw]
                        [/redraw]
                    [/do]
                [/while]
            [/command]
        [/set_menu_item]
    [/event]

    [event]
        name=prestart

        [set_menu_item]
            id=upgradeshop2
            description=_ "Shop"
            [filter_location]
                x,y=18,25
            [/filter_location]
            [command]
                {VARIABLE finished no}
                [while]
                    [variable]
                        name=finished
                        equals=no
                    [/variable]
                    [do]
                        [store_gold]
                            side=$side_number
                            variable=gold
                        [/store_gold]
                        [message]
                            image=wesnoth-icon.png
                            message= _ "You have $gold gold coins to spend in the Shop."
                            speaker=narrator
							{DONE}
                            {OPTION_HEAL 10 50}
                            {OPTION_HP 5 5}
                            {OPTION_RD 7 1}
                            {OPTION_RS 20}
                            {OPTION_MD 7 1}
                            {OPTION_MS 20}
                        [/message]
                        [redraw]
                        [/redraw]
                    [/do]
                [/while]
            [/command]
        [/set_menu_item]
    [/event]

    [event]
        name=prestart

        [set_menu_item]
            id=upgradeshop3
            description=_ "Shop"
            [filter_location]
                x,y=26,32
            [/filter_location]
            [command]
                {VARIABLE finished no}
                [while]
                    [variable]
                        name=finished
                        equals=no
                    [/variable]
                    [do]
                        [store_gold]
                            side=$side_number
                            variable=gold
                        [/store_gold]
                        [message]
                            image=wesnoth-icon.png
                            message= _ "You have $gold gold coins to spend in the Shop."
                            speaker=narrator
							{DONE}
                            {OPTION_HEAL 10 50}
                            {OPTION_HP 5 5}
                            {OPTION_RD 7 1}
                            {OPTION_RS 20}
                            {OPTION_MD 7 1}
                            {OPTION_MS 20}
                        [/message]
                        [redraw]
                        [/redraw]
                    [/do]
                [/while]
            [/command]
        [/set_menu_item]
    [/event]

    [event]
        name=prestart

        [set_menu_item]
            id=upgradeshop4
            description=_ "Shop"
            [filter_location]
                x,y=14,32
            [/filter_location]
            [command]
                {VARIABLE finished no}
                [while]
                    [variable]
                        name=finished
                        equals=no
                    [/variable]
                    [do]
                        [store_gold]
                            side=$side_number
                            variable=gold
                        [/store_gold]
                        [message]
                            image=wesnoth-icon.png
                            message= _ "You have $gold gold coins to spend in the Shop."
                            speaker=narrator
							{DONE}
                            {OPTION_HEAL 10 50}
                            {OPTION_HP 5 5}
                            {OPTION_RD 7 1}
                            {OPTION_RS 20}
                            {OPTION_MD 7 1}
                            {OPTION_MS 20}
                        [/message]
                        [redraw]
                        [/redraw]
                    [/do]
                [/while]
            [/command]
        [/set_menu_item]
    [/event]

    [event]
        name=prestart

        [set_menu_item]
            id=upgradeshop5
            description=_ "Shop"
            [filter_location]
                x,y=30,24
            [/filter_location]
            [command]
                {VARIABLE finished no}
                [while]
                    [variable]
                        name=finished
                        equals=no
                    [/variable]
                    [do]
                        [store_gold]
                            side=$side_number
                            variable=gold
                        [/store_gold]
                        [message]
                            image=wesnoth-icon.png
                            message= _ "You have $gold gold coins to spend in the Shop."
                            speaker=narrator
							{DONE}
                            {OPTION_HEAL 10 50}
                            {OPTION_HP 5 5}
                            {OPTION_RD 7 1}
                            {OPTION_RS 20}
                            {OPTION_MD 7 1}
                            {OPTION_MS 20}
                        [/message]
                        [redraw]
                        [/redraw]
                    [/do]
                [/while]
            [/command]
        [/set_menu_item]
    [/event]

    [event]
        name=moveto
        first_time_only=yes

        [filter]
            x,y=26,22
            side=1,2,3,4,5
        [/filter]

        [unit]
            id=Zaros
            name=_"Zaros"
            type=Elvish Hero
            x,y=25,22
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            name=_"Rol"
            type=Elvish Fighter
            x,y=26,23
            side=7
            upkeep=loyal
        [/unit]
        [message]
            id=Zaros
            message= _ "Get out of our forest!"
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes

        [filter]
            x,y=18,32
            side=1,2,3,4,5
        [/filter]

        [unit]
            name=_"female^Jonna"
            type=Dark Adept
			gender=female
            x,y=31,18
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            name=_"Oworcyn"
			gender=male
            type=Dark Adept
            x,y=33,18
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Walking Corpse
			variation=archer
            x,y=32,19
            side=7
            upkeep=loyal
        [/unit]
        [message]
            speaker="Narrator"
            message= _ "You encounter 2 Dark Adepts and a Walking Corpse"
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes

        [filter]
            x,y=25,29
            side=1,2,3,4,5
        [/filter]
        [unit]
            name=_"Gomthsol"
            type=Dwarvish Scout
            x,y=24,28
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            name=_"Althaus"
            type=Dwarvish Scout
            x,y=26,28
            side=7
            upkeep=loyal
        [/unit]
        [message]
            speaker="narrator"
            message= _ "You encounter 2 Dwarvish Scouts"
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes

        [filter]
            x,y=10,31
            side=1,2,3,4,5
        [/filter]
        [unit]
            name=_"Delundir"
            type=Elvish Fighter
            x,y=9,31
            side=7
            upkeep=loyal
        [/unit]
        [message]
            speaker="narrator"
            message= _ "you encounter an Elvish Fighter"
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes

        [filter]
            x,y=19,30
            side=1,2,3,4,5
        [/filter]
        [unit]
            name=_"Elril"
            type=Elvish Archer
            x,y=19,31
            side=7
            upkeep=loyal
        [/unit]
        [message]
            speaker="narrator"
            message= _ "you encounter an Elvish Archer"
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes

        [filter]
            x,y=18,17
            side=1,2,3,4,5
        [/filter]
        [unit]
            name=_"Uryrieril"
            type=Elvish Shaman
            x,y=17,17
            side=7
            upkeep=loyal
        [/unit]
        [message]
            speaker="narrator"
            message= _ "you encounter an Elvish Shaman"
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes

        [filter]
            x,y=29,13
            side=1,2,3,4,5
        [/filter]
        [unit]
            type=Walking Corpse
            variation=saurian
            x,y=29,12
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Walking Corpse
            variation=saurian
            x,y=28,12
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Walking Corpse
            variation=saurian
            x,y=28,13
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Walking Corpse
            variation=saurian
            x,y=29,14
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Walking Corpse
            variation=saurian
            x,y=30,13
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Walking Corpse
            variation=saurian
            x,y=30,12
            side=7
            upkeep=loyal
        [/unit]
        [message]
            speaker="narrator"
            message= _ "You are ambushed by Zombies"
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes

        [filter]
            x=14,13,12,11
            y=20,20,19,20
            side=1,2,3,4,5
        [/filter]
        [unit]
            type=Skeletal Dragon
            x,y=13,20
            side=7
            upkeep=loyal
        [/unit]
        [message]
            speaker="narrator"
            message= _ "a Skeletal Dragon... RUN!"
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes

        [filter]
            x,y=10,26
            side=1,2,3,4,5
        [/filter]
        [unit]
            type=Merman Fighter
            x,y=10,24
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Merman Hunter
            x,y=12,26
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Merman Fighter
            x,y=14,26
            side=7
            upkeep=loyal
        [/unit]
        [message]
            speaker="narrator"
            message= _ "You Encounter 3 Mermans"
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes

        [filter]
            x,y=13,13
            side=1,2,3,4,5
        [/filter]
        [unit]
            type=Yeti
            x,y=9,15
            side=7
            upkeep=loyal
        [/unit]
        [message]
            speaker="narrator"
            message= _ "you encounter a Yeti, no one will ever believe you :P"
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes

        [filter]
            x,y=10,28
            side=1,2,3,4,5
        [/filter]
        [unit]
            type=Saurian Skirmisher
            x,y=9,28
            side=7
            upkeep=loyal
        [/unit]
        [message]
            speaker="narrator"
            message= _ "you are ambushed by a saurian skirmisher"
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=no

        [filter]
            x,y=27,17
            side=1,2,3,4,5
        [/filter]
        [unit]
            type=Walking Corpse
            variation=mounted
            x,y=28,18
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=mounted
            x,y=25,17
            side=7
            upkeep=loyal
        [/unit]
        [message]
            name="narrator"
            message= _ "you encounter an 2 Zombies"
        [/message]
    [/event]

    [event]
        name=prestart

        [unit]
            type=Saurian Skirmisher
            x,y=21,5
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Saurian Skirmisher
            x,y=23,5
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Walking Corpse
            variation=dwarf
            x,y=16,9
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Walking Corpse
            variation=dwarf
            x,y=30,12
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Walking Corpse
            variation=dwarf
            x,y=19,29
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Walking Corpse
            variation=dwarf
            x,y=36,25
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Walking Corpse
            variation=dwarf
            x,y=21,35
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Walking Corpse
            variation=dwarf
            x,y=18,18
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Saurian Skirmisher
            x,y=18,35
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Saurian Skirmisher
            x,y=11,20
            side=7
            upkeep=loyal
        [/unit]
    [/event]

    [event]
        name=moveto
        first_time_only=no

        [filter]
            x,y=24,19
        [/filter]
        [teleport]
            x,y=35,38
            clear_shroud=yes
            animate=yes
        [/teleport]
        [sound]
            name="magic-dark-miss.ogg"
        [/sound]
    [/event]

    [event]
        name=moveto
        first_time_only=no

        [filter]
            x,y=35,38
        [/filter]
        [teleport]
            x,y=24,19
            clear_shroud=yes
            animate=yes
        [/teleport]
        [sound]
            name="magic-dark-miss.ogg"
        [/sound]
    [/event]

    [event]
        name=moveto
        first_time_only=no

        [filter]
            x,y=10,13
        [/filter]
        [teleport]
            x,y=6,6
            clear_shroud=yes
            animate=yes
        [/teleport]
        [sound]
            name="magic-dark-miss.ogg"
        [/sound]
    [/event]

    [event]
        name=moveto
        first_time_only=no

        [filter]
            x,y=6,6
        [/filter]
        [teleport]
            x,y=10,13
            clear_shroud=yes
            animate=yes
        [/teleport]
        [sound]
            name="magic-dark-miss.ogg"
        [/sound]
    [/event]

    [event]
        name=turn 6

        [unit]
            type=Saurian Ambusher
            x,y=21,5
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Saurian Skirmisher
            x,y=23,5
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=goblin
            x,y=16,9
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=goblin
            x,y=30,12
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=goblin
            x,y=19,29
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=goblin
            x,y=36,25
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=goblin
            x,y=21,35
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=goblin
            x,y=18,18
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Saurian Ambusher
            x,y=18,35
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Saurian Skirmisher
            x,y=11,20
            side=7
            upkeep=loyal
        [/unit]
    [/event]

    [event]
        name=turn 12

        [unit]
            type=Saurian Ambusher
            x,y=21,5
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Saurian Flanker
            x,y=23,5
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=wose
            x,y=16,9
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=wose
            x,y=30,12
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=wose
            x,y=19,29
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=wose
            x,y=36,25
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=wose
            x,y=21,35
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=wose
            x,y=18,18
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Saurian Ambusher
            x,y=18,35
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Saurian Flanker
            x,y=11,20
            side=7
            upkeep=loyal
        [/unit]
    [/event]

    [event]
        name=turn 18

        [unit]
            type=Saurian Flanker
            x,y=21,5
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Saurian Flanker
            x,y=23,5
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=drake
            x,y=16,9
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=drake
            x,y=30,12
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=drake
            x,y=19,29
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=drake
            x,y=36,25
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Soulless
            variation=drake
            x,y=21,35
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Deathblade
            x,y=25,20
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Deathblade
            x,y=18,18
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Sea Serpent
            x,y=8,3
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Sea Serpent
            x,y=39,36
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Saurian Flanker
            x,y=18,35
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Saurian Flanker
            x,y=11,20
            side=7
            upkeep=loyal
        [/unit]
    [/event]

    [event]
        name=turn 22

        [unit]
            type=Fire Dragon
            x,y=16,9
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Fire Dragon
            x,y=30,12
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Fire Dragon
            x,y=19,29
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Fire Dragon
            x,y=36,25
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Fire Dragon
            x,y=21,35
            side=7
            upkeep=loyal
        [/unit]
    [/event]

    [event]
        name=turn 26

        [unit]
			id=Narrator
            type=Elder Mage
            x,y=16,9
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Elder Mage
            x,y=30,12
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Elder Mage
            x,y=19,29
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Elder Mage
            x,y=36,25
            side=7
            upkeep=loyal
        [/unit]
        [unit]
            type=Elder Mage
            x,y=21,35
            side=7
            upkeep=loyal
        [/unit]
        [message]
            id="Narrator"
            message= _ "I've heard you all plotting to kill me, so now it is you who shall die. Go my clones!"
        [/message]
    [/event]

    [event]
        name=die
        first_time_only=no

        [filter_second]
            side=1,2,3,4,5,6,7,8
        [/filter_second]

        [store_unit]
            [filter]
                x,y=$x1,$y1
            [/filter]
            variable=victim
        [/store_unit]

        [store_unit]
            [filter]
                x,y=$x2,$y2
            [/filter]
            variable=killer
        [/store_unit]

        [store_gold]
            variable=gold
            side=$killer.side
        [/store_gold]

		{VARIABLE gold_and_level $victim.level}
		{VARIABLE_OP gold_and_level add 1}
		{VARIABLE_OP gold_and_level multiply 2}

        [gold]
            side="$killer.side"
            amount="$gold_and_level"
        [/gold]

        [unstore_unit]
            variable=victim
            text="$gold_and_level"
            red,green,blue=255,255,0
        [/unstore_unit]

        {CLEAR_VARIABLE killer,victim}
    [/event]

    [event]
        name=die
        first_time_only=no

        [filter_second]
            side=1,2,3,4,5
            canrecruit=yes
        [/filter_second]

        [store_unit]
            [filter]
                x,y=$x2,$y2
            [/filter]
            variable=killer
        [/store_unit]

        {VARIABLE killer.moves 1}
        {VARIABLE killer.attacks_left 1}

        [unstore_unit]
            variable=killer
        [/unstore_unit]

        {CLEAR_VARIABLE killer}
    [/event]
[/multiplayer]

#undef DONE
#undef OPTION_HEAL PRICE AMOUNT
#undef OPTION_HP PRICE AMOUNT
#undef OPTION_RS PRICE
#undef OPTION_RD PRICE AMOUNT
#undef OPTION_MS PRICE
#undef OPTION_MD PRICE AMOUNT
